{"ast":null,"code":"var _class;\nimport { BlogModalComponent } from \"../../shared/modals/blogModal/blogModal.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/blogService.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"ngx-skeleton-loader\";\nimport * as i5 from \"../header/header.component\";\nimport * as i6 from \"../footer/footer.component\";\nfunction BlogComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 6)(1, \"div\", 7)(2, \"div\", 8)(3, \"h2\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h2\", 11);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function BlogComponent_li_6_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const blog_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.openBlog(blog_r2.title));\n    });\n    i0.ɵɵtext(10, \"More\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const blog_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(blog_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(blog_r2.created_at);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.getSubtitle(blog_r2.text), \"...\");\n  }\n}\nfunction BlogComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"div\", 15);\n    i0.ɵɵelement(3, \"ngx-skeleton-loader\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 14)(5, \"div\", 15);\n    i0.ɵɵelement(6, \"ngx-skeleton-loader\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 14)(8, \"div\", 15);\n    i0.ɵɵelement(9, \"ngx-skeleton-loader\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 14)(11, \"div\", 15);\n    i0.ɵɵelement(12, \"ngx-skeleton-loader\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 14)(14, \"div\", 15);\n    i0.ɵɵelement(15, \"ngx-skeleton-loader\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 14)(17, \"div\", 15);\n    i0.ɵɵelement(18, \"ngx-skeleton-loader\", 16);\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class BlogComponent {\n  constructor(blogService, dialog) {\n    this.blogService = blogService;\n    this.dialog = dialog;\n    this.blogs = [];\n    this.loading = true;\n    this.currentPage = 1;\n    this.Array = Array;\n  }\n  ngOnInit() {\n    this.getBlogs();\n  }\n  getBlogs() {\n    this.blogService.getBlogs().subscribe(value => {\n      this.loading = false;\n      this.blogs = value;\n    });\n  }\n  openBlog(title) {\n    this.blogService.getBlog(title).subscribe(value => {\n      this.blog = value;\n      this.dialog.open(BlogModalComponent, {\n        data: this.blog\n      });\n    });\n  }\n  changePage(page) {\n    this.currentPage = page;\n  }\n  getSubtitle(inputString) {\n    return inputString.slice(0, 200);\n    // Define a regular expression pattern to identify sentences\n    // let punctuationMarks = ['.', '!', '?'];\n    //\n    // // Initialize a counter for sentence endings\n    // let sentenceEndings = 0;\n    //\n    // // Iterate through the characters in the input string\n    // for (let i = 0; i < inputString.length; i++) {\n    //   let char = inputString[i];\n    //   if (punctuationMarks.includes(char)) {\n    //     sentenceEndings++;\n    //     if (sentenceEndings === 2) {\n    //       // Return the substring starting from the next character after the second sentence ending\n    //       return inputString.substring(i + 1);\n    //     }\n    //   }\n    // }\n    //\n    // // If there are not enough sentences, return a message\n    // return \"Not enough sentences in the input string.\";\n  }\n}\n_class = BlogComponent;\n_class.ɵfac = function BlogComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.BlogServiceService), i0.ɵɵdirectiveInject(i2.MatDialog));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-blog\"]],\n  decls: 9,\n  vars: 2,\n  consts: [[1, \"bg-bg\", \"text-white\", \"flex\", \"flex-col\", \"gap-20\"], [1, \"px-4\", \"md:px-40\", \"mb-8\", \"md:mb-40\"], [1, \"pl-16\", \"font-bold\", \"text-2xl\", \"mb-4\", \"md:mb-5\"], [1, \"flex\", \"justify-center\", \"flex-wrap\", \"gap-4\", \"md:flex-row\"], [\"class\", \"mb-4 md:mb-0 md:w-[30%]\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"flex flex-wrap gap-4\", 4, \"ngIf\"], [1, \"mb-4\", \"md:mb-0\", \"md:w-[30%]\"], [1, \"bg-container-bg-color\", \"rounded-xl\", \"p-4\", \"h-full\", \"flex\", \"flex-col\"], [1, \"flex-grow\"], [1, \"font-bold\", \"mb-2\", \"h-20\"], [1, \"text-active-tab-color\", \"mb-2\"], [1, \"mb-2\"], [1, \"bg-button-color\", \"w-full\", \"rounded-xl\", \"py-2\", 3, \"click\"], [1, \"flex\", \"flex-wrap\", \"gap-4\"], [1, \"mb-4\", \"md:mb-0\", \"md:w-[30%]\", \"md:h-[60vh]\", \"flex\", \"flex-col\"], [1, \"bg-container-bg-color\", \"rounded-xl\", \"h-full\"], [\"count\", \"1\", \"appearance\", \"custom-content\"]],\n  template: function BlogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"app-header\");\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"h2\", 2);\n      i0.ɵɵtext(4, \"\\u0411\\u043B\\u043E\\u0433\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ul\", 3);\n      i0.ɵɵtemplate(6, BlogComponent_li_6_Template, 11, 3, \"li\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, BlogComponent_div_7_Template, 19, 0, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"app-footer\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.blogs);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.NgxSkeletonLoaderComponent, i5.HeaderComponent, i6.FooterComponent],\n  encapsulation: 2\n});","map":{"version":3,"names":["BlogModalComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","BlogComponent_li_6_Template_button_click_9_listener","restoredCtx","ɵɵrestoreView","_r4","blog_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","openBlog","title","ɵɵadvance","ɵɵtextInterpolate","created_at","ɵɵtextInterpolate1","ctx_r0","getSubtitle","text","ɵɵelement","BlogComponent","constructor","blogService","dialog","blogs","loading","currentPage","Array","ngOnInit","getBlogs","subscribe","value","getBlog","blog","open","data","changePage","page","inputString","slice","ɵɵdirectiveInject","i1","BlogServiceService","i2","MatDialog","selectors","decls","vars","consts","template","BlogComponent_Template","rf","ctx","ɵɵtemplate","BlogComponent_li_6_Template","BlogComponent_div_7_Template","ɵɵproperty"],"sources":["/Users/thev1rtual/Desktop/code/liberty-final/src/app/components/blog/blog.component.ts","/Users/thev1rtual/Desktop/code/liberty-final/src/app/components/blog/blog.component.html"],"sourcesContent":["import {Component, OnInit} from \"@angular/core\";\nimport { BlogServiceService} from \"../../services/blogService.service\";\nimport {Blog} from \"../../interfaces/blog.interface\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {BlogModalComponent} from \"../../shared/modals/blogModal/blogModal.component\";\n\n@Component({\n    selector: 'app-blog',\n    templateUrl: './blog.component.html'\n})\n\nexport class BlogComponent implements OnInit{\n\n  blogs: Blog[] = []\n  blog!: Blog\n  loading: boolean = true\n  constructor(private blogService: BlogServiceService, private dialog: MatDialog) {}\n\n  ngOnInit() {\n    this.getBlogs()\n  }\n\n  getBlogs() {\n    this.blogService.getBlogs().subscribe(value => {\n      this.loading = false\n      this.blogs = value\n    })\n  }\n\n  openBlog(title: string) {\n    this.blogService.getBlog(title).subscribe(value => {\n      this.blog = value\n\n      this.dialog.open(BlogModalComponent, {\n        data: this.blog\n      })\n    })\n\n  }\n\n  currentPage = 1;\n\n  changePage(page: number): void {\n    this.currentPage = page;\n  }\n\n  getSubtitle(inputString: string) {\n    return inputString.slice(0, 200)\n\n    // Define a regular expression pattern to identify sentences\n    // let punctuationMarks = ['.', '!', '?'];\n    //\n    // // Initialize a counter for sentence endings\n    // let sentenceEndings = 0;\n    //\n    // // Iterate through the characters in the input string\n    // for (let i = 0; i < inputString.length; i++) {\n    //   let char = inputString[i];\n    //   if (punctuationMarks.includes(char)) {\n    //     sentenceEndings++;\n    //     if (sentenceEndings === 2) {\n    //       // Return the substring starting from the next character after the second sentence ending\n    //       return inputString.substring(i + 1);\n    //     }\n    //   }\n    // }\n    //\n    // // If there are not enough sentences, return a message\n    // return \"Not enough sentences in the input string.\";\n  }\n\n  protected readonly Array = Array;\n}\n","<div class=\"bg-bg text-white flex flex-col gap-20\">\n  <app-header></app-header>\n  <div class=\"px-4 md:px-40 mb-8 md:mb-40\">\n    <h2 class=\"pl-16 font-bold text-2xl mb-4 md:mb-5\">Блог</h2>\n\n    <ul class=\"flex justify-center flex-wrap gap-4 md:flex-row\">\n      <li *ngFor=\"let blog of blogs\" class=\"mb-4 md:mb-0 md:w-[30%]\">\n        <div class=\"bg-container-bg-color rounded-xl p-4 h-full flex flex-col\">\n          <div class=\"flex-grow\"> <!-- Added div for text content -->\n            <h2 class=\"font-bold mb-2 h-20\">{{blog.title}}</h2>\n            <h2 class=\"text-active-tab-color mb-2\">{{blog.created_at}}</h2>\n            <h2 class=\"mb-2\">{{getSubtitle(blog.text)}}...</h2>\n          </div>\n          <button class=\"bg-button-color w-full rounded-xl py-2\" (click)=\"openBlog(blog.title)\" >More</button>\n        </div>\n      </li>\n    </ul>\n    <div class=\"flex flex-wrap gap-4\" *ngIf=\"loading\">\n      <!-- Row 1 -->\n      <div class=\"mb-4 md:mb-0 md:w-[30%] md:h-[60vh] flex flex-col\">\n        <div class=\"bg-container-bg-color rounded-xl h-full\">\n          <ngx-skeleton-loader count=\"1\" appearance=\"custom-content\"></ngx-skeleton-loader>\n        </div>\n      </div>\n      <div class=\"mb-4 md:mb-0 md:w-[30%] md:h-[60vh] flex flex-col\">\n        <div class=\"bg-container-bg-color rounded-xl h-full\">\n          <ngx-skeleton-loader count=\"1\" appearance=\"custom-content\"></ngx-skeleton-loader>\n        </div>\n      </div>\n      <div class=\"mb-4 md:mb-0 md:w-[30%] md:h-[60vh] flex flex-col\">\n        <div class=\"bg-container-bg-color rounded-xl h-full\">\n          <ngx-skeleton-loader count=\"1\" appearance=\"custom-content\"></ngx-skeleton-loader>\n        </div>\n      </div>\n      <!-- Row 2 -->\n      <div class=\"mb-4 md:mb-0 md:w-[30%] md:h-[60vh] flex flex-col\">\n        <div class=\"bg-container-bg-color rounded-xl h-full\">\n          <ngx-skeleton-loader count=\"1\" appearance=\"custom-content\"></ngx-skeleton-loader>\n        </div>\n      </div>\n      <div class=\"mb-4 md:mb-0 md:w-[30%] md:h-[60vh] flex flex-col\">\n        <div class=\"bg-container-bg-color rounded-xl h-full\">\n          <ngx-skeleton-loader count=\"1\" appearance=\"custom-content\"></ngx-skeleton-loader>\n        </div>\n      </div>\n      <div class=\"mb-4 md:mb-0 md:w-[30%] md:h-[60vh] flex flex-col\">\n        <div class=\"bg-container-bg-color rounded-xl h-full\">\n          <ngx-skeleton-loader count=\"1\" appearance=\"custom-content\"></ngx-skeleton-loader>\n        </div>\n      </div>\n    </div>\n\n  </div>\n  <app-footer></app-footer>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}